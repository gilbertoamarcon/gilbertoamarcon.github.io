<!doctype html>
<html lang='en'>

	<head>
		<meta charset='utf-8'>
		<title>Gilbertos Source</title>
		<link rel='stylesheet' href='sty.css'>
	</head>

	<body>

		<div id='content' >

			<div id='side_bar' >

				<header id="header">
					<a href='https://gilbertoamarcon.github.io' target="_self" ><h1>Gilberto's Source</h1></a>
				</header>

				<div id="menu">
					<ul>

						<li><a href=apt-gets.html class=menu_button>Common packages						</a></li>
						<li><a href=atom.html class=menu_button>						</a></li>
						<li><a href=backup-sublime.html class=menu_button>						</a></li>
						<li><a href=bash.html class=menu_button>Basic Bash 						</a></li>
						<li><a href=boost.html class=menu_button>						</a></li>
						<li><a href=calc.html class=menu_button>						</a></li>
						<li><a href=chatbot.html class=menu_button>						</a></li>
						<li><a href=chrome.html class=menu_button>						</a></li>
						<li><a href=commit.html class=menu_button>Commit						</a></li>
						<li><a href=conda.html class=menu_button>						</a></li>
						<li><a href=create-model-box.html class=menu_button>Create a Gazebo Box						</a></li>
						<li><a href=create-model-flat.html class=menu_button>Create Bazebo Flat						</a></li>
						<li><a href=create-package.html class=menu_button>Create a ROS Package						</a></li>
						<li><a href=create-ws.html class=menu_button>Create a ROS Workspace						</a></li>
						<li><a href=customize-turtlebot-nav.sh.html class=menu_button>Customize Turtlebot Nav						</a></li>
						<li><a href=deskhp.html class=menu_button>Basic Desktop Setup						</a></li>
						<li><a href=disable-devices.html class=menu_button>Disabling Devices						</a></li>
						<li><a href=eclipse.html class=menu_button>						</a></li>
						<li><a href=edimax.html class=menu_button>						</a></li>
						<li><a href=ff265.html class=menu_button>						</a></li>
						<li><a href=fpg.html class=menu_button>FPG Setup						</a></li>
						<li><a href=gdal.html class=menu_button>						</a></li>
						<li><a href=geotiff.html class=menu_button>						</a></li>
						<li><a href=get-citeulike.html class=menu_button>						</a></li>
						<li><a href=get-madp.html class=menu_button>MADP Setup						</a></li>
						<li><a href=get-stoqs.html class=menu_button>STOQS Setup						</a></li>
						<li><a href=get-testbed.html class=menu_button>Get Testbed Package						</a></li>
						<li><a href=gplib.html class=menu_button>						</a></li>
						<li><a href=kernel-update.html class=menu_button>						</a></li>
						<li><a href=kernel-wifi.html class=menu_button>						</a></li>
						<li><a href=links.html class=menu_button>Desktop Links						</a></li>
						<li><a href=madp.html class=menu_button>MADP						</a></li>
						<li><a href=mdpsim.html class=menu_button>						</a></li>
						<li><a href=mendeley.html class=menu_button>						</a></li>
						<li><a href=nvidia-fix.html class=menu_button>Nvidia Drivers Fix						</a></li>
						<li><a href=nvidia-setup.html class=menu_button>Nvidia Drivers						</a></li>
						<li><a href=pdf-chop.html class=menu_button>PDF Chop						</a></li>
						<li><a href=personal.html class=menu_button>Personal						</a></li>
						<li><a href=personal-page.html class=menu_button>Update Personal Page Website						</a></li>
						<li><a href=pi-backup.html class=menu_button>Raspberry Pi Backup						</a></li>
						<li><a href=pi-cam-client.html class=menu_button>Rasp Cam Client						</a></li>
						<li><a href=pi-cam-server.html class=menu_button>Rasp Cam Server						</a></li>
						<li><a href=pi-cam-server-setup.html class=menu_button>Rasp Cam Server Setup						</a></li>
						<li><a href=planning.html class=menu_button>Planning						</a></li>
						<li><a href=printer-graf.html class=menu_button>Printer Graf 						</a></li>
						<li><a href=prost.html class=menu_button>						</a></li>
						<li><a href=ps3-joy.html class=menu_button>						</a></li>
						<li><a href=purge-model.html class=menu_button>Purge a gazebo model						</a></li>
						<li><a href=pycuda.html class=menu_button>						</a></li>
						<li><a href=real-robot.html class=menu_button>Real Robot						</a></li>
						<li><a href=relaxed-plan.html class=menu_button>Relaxed Plan Structures						</a></li>
						<li><a href=remote-video.html class=menu_button>PiCam Remote Video 						</a></li>
						<li><a href=replace.html class=menu_button>Search and Replace						</a></li>
						<li><a href=repos-dep-apt-get.html class=menu_button>Repos Dependencies						</a></li>
						<li><a href=repos-dep-basic-planners.html class=menu_button>Repos Dependencies						</a></li>
						<li><a href=repos-dep-extra-planners.html class=menu_button>Repos Dependencies						</a></li>
						<li><a href=repos-dep.html class=menu_button>Repos Dependencies						</a></li>
						<li><a href=repos-dep-lib.html class=menu_button>Repos Dependencies						</a></li>
						<li><a href=repos.html class=menu_button>Repos Dependencies						</a></li>
						<li><a href=repos-setup.html class=menu_button>Repos Setup						</a></li>
						<li><a href=repos-test.html class=menu_button>Repos Test						</a></li>
						<li><a href=ros-erratic.html class=menu_button>ROS Erratic						</a></li>
						<li><a href=ros-indigo.html class=menu_button>ROS Indigo						</a></li>
						<li><a href=ros-jackal.html class=menu_button>ROS Jackal 						</a></li>
						<li><a href=ros-kinetic.html class=menu_button>ROS kinetic						</a></li>
						<li><a href=ros-pioneer-setup.html class=menu_button>Setup Pioneers						</a></li>
						<li><a href=ros-summit.html class=menu_button>ROS Summit 						</a></li>
						<li><a href=ros-turtlebot.html class=menu_button>ROS Turtlebot						</a></li>
						<li><a href=rotate-monitor.html class=menu_button>View Overleaf Paper Offline						</a></li>
						<li><a href=rtlwifi.html class=menu_button>						</a></li>
						<li><a href=run.sh.html class=menu_button>						</a></li>
						<li><a href=run-voobly.html class=menu_button>						</a></li>
						<li><a href=samba-share.html class=menu_button>Setup Samba shared directory with Windows machines						</a></li>
						<li><a href=screen-cap.html class=menu_button>						</a></li>
						<li><a href=sdl-jstest.html class=menu_button>						</a></li>
						<li><a href=seq-to-video.html class=menu_button>						</a></li>
						<li><a href=ssh.html class=menu_button>SSH Login						</a></li>
						<li><a href=sublime.html class=menu_button>						</a></li>
						<li><a href=update-hosts.html class=menu_button>Update Hosts						</a></li>
						<li><a href=update-page.html class=menu_button>SSH Login						</a></li>
						<li><a href=update-website.html class=menu_button>Update Repo Website						</a></li>
						<li><a href=val-report.html class=menu_button>VAL PDF						</a></li>
						<li><a href=view-paper.html class=menu_button>View Overleaf Paper Offline						</a></li>
						<li><a href=website.html class=menu_button>Website Maker 						</a></li>
						<li><a href=wibuntu-setup.html class=menu_button>						</a></li>
						<li><a href=wifi-fix.html class=menu_button>Wifi Fix						</a></li>
						<li><a href=wine.html class=menu_button>						</a></li>
						<li><a href=win-gdal.html class=menu_button>						</a></li>
						<li><a href=win-utc.html class=menu_button>						</a></li>
					
					</ul>
				</div>

			</div>

			<div id="main" >

				<article>


<h2> View Overleaf Paper Offline</h2>

<br/>
 Provide the link to the Overleaf project as a command line argument:

<br/>
 ./view-paper.sh https://www.overleaf.com/11526189qqdhvsmwyytc#/43580908/

<br/>



<br/>
 Parsing input: Project URL to get Project ID

url=$1
IFS='/#' read -ra tokens <<< "$url"
<div class="codebox">projid=${tokens[3]}
</div>

<br/>
 Local repository directory

<div class="codebox">lrepo=${HOME}/over/$projid
</div>

<br/>
 Remote BIB URL

<div class="codebox">rbib='http://www.citeulike.org/bibtex/user/marcondg?do_username_prefix=0&key_type=4&incl_amazon=1&clean_urls=1&smart_wrap=1&q=&fieldmap=abstract:'
</div>

<br/>
 Aux bib

<div class="codebox">abib=/tmp/bib.bib
</div>

<br/>
 Local bib

<div class="codebox">lbib=$lrepo/bib.bib
</div>

<br/>
 Remote PDF URL

<div class="codebox">rpdf=https://v1.overleaf.com/docs/$projid/pdf.pdf
</div>

<br/>
 Aux PDF

<div class="codebox">apdf=/tmp/pdf_.pdf
</div>

<br/>
 Local PDF

<div class="codebox">lpdf=/tmp/pdf.pdf
</div>

<br/>
 Getting firefox up

<div class="codebox">firefox $url > /dev/null 2>&1 &
</div>

<br/>
 Getting Local PDF

echo 'Fetching PDF...'
while true; do
	if wget $rpdf -O $lpdf -nv; then
		break
	fi
done
<div class="codebox">echo 'PDF fetched.'
</div>

<br/>
 Go to repo, pull

mkdir -p ${HOME}/over > /dev/null 2>&1
rm -Rf $lrepo > /dev/null 2>&1
<div class="codebox">git clone https://git.overleaf.com/$projid $lrepo/ > /dev/null 2>&1
</div>

<br/>
 Getting sublime up

subl $lrepo/*.tex
<div class="codebox">subl $lbib
</div>

<br/>
 Getting evince up

<div class="codebox">evince $lpdf > /dev/null 2>&1 &
</div>

<br/>
  Infinite loop

<div class="codebox">while true; do
</div>

	# Download bib file
<div class="codebox">	wget $rbib -O $abib -nv > /dev/null 2>&1
</div>

	# If aux bib != local bib, copy over local bib
<div class="codebox">	cmp -s $lbib $abib || cp $abib $lbib
</div>

	# Removing URL and DOI
	sed -i -E '/    url = /d' $lbib
<div class="codebox">	sed -i -E '/    doi = /d' $lbib
</div>

	# Download pdf file
<div class="codebox">	wget $rpdf -O $apdf -nv > /dev/null 2>&1
</div>

	# If aux pdf != local pdf, copy over local pdf
<div class="codebox">	cmp -s $lpdf $apdf || cp $apdf $lpdf
</div>

	# Update table
	# python ${HOME}/dev/tag-analysis/requirements.py $lrepo > /dev/null 2>&1 
<div class="codebox">	python ${HOME}/dev/tag-analysis/read.py $lrepo > /dev/null 2>&1 
</div>

	# Go to repo, commit
	hdir=$(pwd)
	cd $lrepo/
	git add --all
	git commit -m "Changes"
	git push -u origin master
<div class="codebox">	cd $hdir
</div>

	printf  "===========================\n\n"

	# Wait 1 s
<div class="codebox">	sleep 1
</div>

done#<a href=https://raw.githubusercontent.com/gilbertoamarcon/tools/master/view-paper.sh target=_blank>Follow this link for the raw script.</a>#<a href=https://raw.githubusercontent.com/gilbertoamarcon/tools/master/view-paper.sh target=_blank>Follow this link for the raw script.</a>#<a href=https://raw.githubusercontent.com/gilbertoamarcon/tools/master/view-paper.sh target=_blank>Follow this link for the raw script.</a>#<a href=https://raw.githubusercontent.com/gilbertoamarcon/tools/master/view-paper.sh target=_blank>Follow this link for the raw script.</a>#<a href=https://raw.githubusercontent.com/gilbertoamarcon/tools/master/view-paper.sh target=_blank>Follow this link for the raw script.</a>#<a href=https://raw.githubusercontent.com/gilbertoamarcon/tools/master/view-paper.sh target=_blank>Follow this link for the raw script.</a>#<a href=https://raw.githubusercontent.com/gilbertoamarcon/tools/master/view-paper.sh target=_blank>Follow this link for the raw script.</a>#<a href=https://raw.githubusercontent.com/gilbertoamarcon/tools/master/view-paper.sh target=_blank>Follow this link for the raw script.</a>#<a href=https://raw.githubusercontent.com/gilbertoamarcon/tools/master/view-paper.sh target=_blank>Follow this link for the raw script.</a>#<a href=https://raw.githubusercontent.com/gilbertoamarcon/tools/master/view-paper.sh target=_blank>Follow this link for the raw script.</a>#<a href=https://raw.githubusercontent.com/gilbertoamarcon/tools/master/view-paper.sh target=_blank>Follow this link for the raw script.</a>#<a href=https://raw.githubusercontent.com/gilbertoamarcon/tools/master/view-paper.sh target=_blank>Follow this link for the raw script.</a>#<a href=https://raw.githubusercontent.com/gilbertoamarcon/tools/master/view-paper.sh target=_blank>Follow this link for the raw script.</a>#<a href=https://raw.githubusercontent.com/gilbertoamarcon/tools/master/view-paper.sh target=_blank>Follow this link for the raw script.</a>#<a href=https://raw.githubusercontent.com/gilbertoamarcon/tools/master/view-paper.sh target=_blank>Follow this link for the raw script.</a>#<a href=https://raw.githubusercontent.com/gilbertoamarcon/tools/master/view-paper.sh target=_blank>Follow this link for the raw script.</a>#<a href=https://raw.githubusercontent.com/gilbertoamarcon/tools/master/view-paper.sh target=_blank>Follow this link for the raw script.</a>#<a href=https://raw.githubusercontent.com/gilbertoamarcon/tools/master/view-paper.sh target=_blank>Follow this link for the raw script.</a>#<a href=https://raw.githubusercontent.com/gilbertoamarcon/tools/master/view-paper.sh target=_blank>Follow this link for the raw script.</a>#<a href=https://raw.githubusercontent.com/gilbertoamarcon/tools/master/view-paper.sh target=_blank>Follow this link for the raw script.</a>#<a href=https://raw.githubusercontent.com/gilbertoamarcon/tools/master/view-paper.sh target=_blank>Follow this link for the raw script.</a>#<a href=https://raw.githubusercontent.com/gilbertoamarcon/tools/master/view-paper.sh target=_blank>Follow this link for the raw script.</a>
				<article/>

			</div>

		</div>

	</body>

</html>

